From 4e08b22c08f8319d8ca84c1466f85ed53085f92c Mon Sep 17 00:00:00 2001
From: aleksandr_vakhtin <aleksandr_vakhtin@epam.com>
Date: Fri, 12 Apr 2019 15:41:59 +0300
Subject: [PATCH] =?UTF-8?q?=D0=A3=D0=B1=D1=80=D0=B0=D0=BB=20=D0=BD=D0=B0?=
 =?UTF-8?q?=D1=81=D0=BB=D0=B5=D0=B4=D0=BE=D0=B2=D0=B0=D0=BD=D0=B8=D0=B5=20?=
 =?UTF-8?q?=D0=BF=D1=83=D1=82=D0=B5=D0=B9=20=D0=B4=D0=BE=D0=B1=D0=B0=D0=B2?=
 =?UTF-8?q?=D0=B8=D0=BB=20=D0=BF=D0=B0=D1=80=D0=B0=D0=BC=D0=B5=D1=82=D1=80?=
 =?UTF-8?q?=D0=B8=D0=B7=D0=B0=D1=86=D0=B8=D1=8E=20=D0=BA=20=D0=B2=D1=8C?=
 =?UTF-8?q?=D1=8E?=
MIME-Version: 1.0
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: 8bit

---
 .../Container/Modules/NavigationModule.cs     | 31 ++++++++++---------
 RssClientByXamarin/Droid/Droid.csproj         |  8 ++---
 .../Droid/Screens/About/AboutWay.cs           |  5 +--
 .../Droid/Screens/Base/ViewModelFragment.cs   |  9 +++++-
 .../Droid/Screens/Close/CloseWay.cs           |  5 +--
 .../Droid/Screens/Contacts/ContactsWay.cs     |  5 +--
 .../Screens/FeedlySearch/FeedlySearchWay.cs   |  5 +--
 .../Droid/Screens/Main/MainActivity.cs        | 18 +++++------
 .../RssAllMessagesAdapter.cs                  |  2 +-
 .../RssAllMessagesFragment.cs}                | 12 +++----
 .../RssAllMessagesViewHolder.cs               |  2 +-
 .../RssAllMessages/RssAllMessagesWay.cs       | 21 +++++++++++++
 .../RssAllMessagesListWay.cs                  |  5 +--
 .../RssAllMessagesListWay.cs                  | 20 ------------
 .../Droid/Screens/RssCreate/RssCreateWay.cs   |  5 +--
 .../Droid/Screens/RssEdit/RssEditWay.cs       | 15 ++++++---
 .../RssEditList/RssEditListFragment.cs        |  2 +-
 .../Screens/RssEditList/RssListEditWay.cs     |  5 +--
 .../RssAllMessagesListWay.cs                  |  5 +--
 .../RssFavoriteMessagesListFragment.cs        |  2 +-
 .../RssItemMessage/BaseRssMessageAdapter.cs   |  7 +++--
 .../RssItemMessage/RssItemDetailFragment.cs   |  5 +--
 .../RssItemMessage/RssItemDetailWay.cs        | 14 ++++++---
 .../Droid/Screens/RssList/RssListAdapter.cs   | 10 +++---
 .../Droid/Screens/RssList/RssListFragment.cs  |  6 ++--
 .../Droid/Screens/RssList/RssListWay.cs       |  5 +--
 .../Droid/Screens/RssMessage/RssMessageWay.cs | 19 ++++++++----
 .../Droid/Screens/Settings/SettingsWay.cs     |  5 +--
 .../Container/Modules/ViewModelModule.cs      |  4 +--
 .../Shared/Infrastructure/Navigation/IWay.cs  |  7 +++++
 .../Infrastructure/Navigation/Navigator.cs    |  2 +-
 .../ViewModels/ViewModelParameters.cs         |  7 +++++
 .../ViewModels/ViewModelProvider.cs           |  8 ++++-
 .../ViewModels/ViewModelWithParameter.cs      | 13 ++++++++
 RssClientByXamarin/Shared/Shared.projitems    |  5 +++
 .../Shared/ViewModels/About/AboutViewModel.cs |  7 -----
 .../Shared/ViewModels/Close/CloseViewModel.cs |  7 -----
 .../ViewModels/Contacts/ContactsViewModel.cs  |  7 -----
 .../FeedlySearch/FeedlySearchViewModel.cs     |  7 -----
 .../RssAllMessages/RssAllMessagesViewModel.cs |  8 +----
 .../RssAllMessagesFilterViewModel.cs          |  8 +----
 .../RssCreate/RssCreateViewModel.cs           |  7 +----
 .../ViewModels/RssEdit/RssEditParameterses.cs | 14 +++++++++
 .../ViewModels/RssEdit/RssEditViewModel.cs    | 13 ++------
 .../RssFavoriteMessagesViewModel.cs           |  7 -----
 .../RssItemDetailParameterses.cs              | 15 +++++++++
 .../RssItemDetail/RssItemDetailViewModel.cs   | 14 ++-------
 .../ViewModels/RssList/RssListViewModel.cs    |  7 -----
 .../RssListEdit/RssListEditViewModel.cs       |  7 +----
 .../RssMessage/RssMessageParameterses.cs      | 15 +++++++++
 .../RssMessage/RssMessageViewModel.cs         | 14 ++-------
 .../ViewModels/Settings/SettingsViewModel.cs  |  8 +----
 52 files changed, 244 insertions(+), 220 deletions(-)
 rename RssClientByXamarin/Droid/Screens/{RssAllMessagesList => RssAllMessages}/RssAllMessagesAdapter.cs (97%)
 rename RssClientByXamarin/Droid/Screens/{RssAllMessagesList/RssAllMessagesListFragment.cs => RssAllMessages/RssAllMessagesFragment.cs} (88%)
 rename RssClientByXamarin/Droid/Screens/{RssAllMessagesList => RssAllMessages}/RssAllMessagesViewHolder.cs (98%)
 create mode 100644 RssClientByXamarin/Droid/Screens/RssAllMessages/RssAllMessagesWay.cs
 delete mode 100644 RssClientByXamarin/Droid/Screens/RssAllMessagesList/RssAllMessagesListWay.cs
 create mode 100644 RssClientByXamarin/Shared/Infrastructure/ViewModels/ViewModelParameters.cs
 create mode 100644 RssClientByXamarin/Shared/Infrastructure/ViewModels/ViewModelWithParameter.cs
 create mode 100644 RssClientByXamarin/Shared/ViewModels/RssEdit/RssEditParameterses.cs
 create mode 100644 RssClientByXamarin/Shared/ViewModels/RssItemDetail/RssItemDetailParameterses.cs
 create mode 100644 RssClientByXamarin/Shared/ViewModels/RssMessage/RssMessageParameterses.cs

diff --git a/RssClientByXamarin/Droid/Container/Modules/NavigationModule.cs b/RssClientByXamarin/Droid/Container/Modules/NavigationModule.cs
index 5e5287c..aa4c2ae 100644
--- a/RssClientByXamarin/Droid/Container/Modules/NavigationModule.cs
+++ b/RssClientByXamarin/Droid/Container/Modules/NavigationModule.cs
@@ -6,8 +6,8 @@ using Droid.Screens.Contacts;
 using Droid.Screens.FeedlySearch;
 using Droid.Screens.Main;
 using Droid.Screens.Navigation;
+using Droid.Screens.RssAllMessages;
 using Droid.Screens.RssAllMessagesFilter;
-using Droid.Screens.RssAllMessagesList;
 using Droid.Screens.RssCreate;
 using Droid.Screens.RssEdit;
 using Droid.Screens.RssEditList;
@@ -16,6 +16,7 @@ using Droid.Screens.RssItemMessage;
 using Droid.Screens.RssList;
 using Droid.Screens.RssMessage;
 using Droid.Screens.Settings;
+using Shared.Infrastructure.Navigation;
 using Shared.ViewModels.About;
 using Shared.ViewModels.Close;
 using Shared.ViewModels.Contacts;
@@ -39,23 +40,23 @@ namespace Droid.Container.Modules
         {
             base.Load(builder);
 
-            builder.RegisterType<CloseWay>().As<CloseViewModel.Way>();
+            builder.RegisterType<CloseWay>().As<IWay<CloseViewModel>>();
 
-            builder.RegisterType<RssItemDetailWay>().As<RssItemDetailViewModel.Way>();
-            builder.RegisterType<RssAllMessagesListWay>().As<RssAllMessagesViewModel.Way>();
-            builder.RegisterType<RssFavoriteMessagesListWay>().As<RssFavoriteMessagesViewModel.Way>();
-            builder.RegisterType<RssAllMessagesFilterWay>().As<RssAllMessagesFilterViewModel.Way>();
-            builder.RegisterType<RssListWay>().As<RssListViewModel.Way>();
-            builder.RegisterType<RssListEditWay>().As<RssListEditViewModel.Way>();
-            builder.RegisterType<RssCreateWay>().As<RssCreateViewModel.Way>();
-            builder.RegisterType<RssEditWay>().As<RssEditViewModel.Way>();
-            builder.RegisterType<RssMessageWay>().As<RssMessageViewModel.Way>();
+            builder.RegisterType<RssItemDetailWay>().As<IWayWithParameters<RssItemDetailViewModel, RssItemDetailParameterses>>();
+            builder.RegisterType<RssAllMessagesWay>().As<IWay<RssAllMessagesViewModel>>();
+            builder.RegisterType<RssFavoriteMessagesListWay>().As<IWay<RssFavoriteMessagesViewModel>>();
+            builder.RegisterType<RssAllMessagesFilterWay>().As<IWay<RssAllMessagesFilterViewModel>>();
+            builder.RegisterType<RssListWay>().As<IWay<RssListViewModel>>();
+            builder.RegisterType<RssListEditWay>().As<IWay<RssListEditViewModel>>();
+            builder.RegisterType<RssCreateWay>().As<IWay<RssCreateViewModel>>();
+            builder.RegisterType<RssEditWay>().As<IWayWithParameters<RssEditViewModel, RssEditParameterses>>();
+            builder.RegisterType<RssMessageWay>().As<IWayWithParameters<RssMessageViewModel, RssMessageParameterses>>();
 
-            builder.RegisterType<AboutWay>().As<AboutViewModel.Way>();
-            builder.RegisterType<SettingsWay>().As<SettingsViewModel.Way>();
-            builder.RegisterType<ContactsWay>().As<ContactsViewModel.Way>();
+            builder.RegisterType<AboutWay>().As<IWay<AboutViewModel>>();
+            builder.RegisterType<SettingsWay>().As<IWay<SettingsViewModel>>();
+            builder.RegisterType<ContactsWay>().As<IWay<ContactsViewModel>>();
 
-            builder.RegisterType<FeedlySearchWay>().As<FeedlySearchViewModel.Way>();
+            builder.RegisterType<FeedlySearchWay>().As<IWay<FeedlySearchViewModel>>();
             
             builder.Register((c) => MainActivity.Instance).As<Activity>();
             builder.Register((c) => MainActivity.Instance).As<FragmentActivity>();
diff --git a/RssClientByXamarin/Droid/Droid.csproj b/RssClientByXamarin/Droid/Droid.csproj
index ec7b988..c4c6b08 100644
--- a/RssClientByXamarin/Droid/Droid.csproj
+++ b/RssClientByXamarin/Droid/Droid.csproj
@@ -111,7 +111,7 @@
     <Compile Include="Screens\RssAllMessagesFilter\Order\RssAllMessagesOrderFragment.cs" />
     <Compile Include="Screens\RssAllMessagesFilter\RssAllMessagesFilterFragment.cs" />
     <Compile Include="Screens\RssAllMessagesFilter\RssAllMessagesListWay.cs" />
-    <Compile Include="Screens\RssAllMessagesList\RssAllMessagesListWay.cs" />
+    <Compile Include="Screens\RssAllMessages\RssAllMessagesWay.cs" />
     <Compile Include="Screens\Base\TextViewExtension.cs" />
     <Compile Include="Screens\RssCreate\RssCreateWay.cs" />
     <Compile Include="Screens\RssEditList\RssEditListFragment.cs" />
@@ -127,9 +127,9 @@
     <Compile Include="Screens\RssItemMessage\RssItemMessageAdapter.cs" />
     <Compile Include="Screens\RssItemMessage\RssItemMessageViewHolder.cs" />
     <Compile Include="Screens\RssEdit\RssEditFragment.cs" />
-    <Compile Include="Screens\RssAllMessagesList\RssAllMessagesListFragment.cs" />
-    <Compile Include="Screens\RssAllMessagesList\RssAllMessagesAdapter.cs" />
-    <Compile Include="Screens\RssAllMessagesList\RssAllMessagesViewHolder.cs" />
+    <Compile Include="Screens\RssAllMessages\RssAllMessagesFragment.cs" />
+    <Compile Include="Screens\RssAllMessages\RssAllMessagesAdapter.cs" />
+    <Compile Include="Screens\RssAllMessages\RssAllMessagesViewHolder.cs" />
     <Compile Include="Screens\Main\MainActivity.cs" />
     <Compile Include="Screens\RssCreate\RssCreateFragment.cs" />
     <Compile Include="Screens\RssItemMessage\BaseRssMessageViewHolder.cs" />
diff --git a/RssClientByXamarin/Droid/Screens/About/AboutWay.cs b/RssClientByXamarin/Droid/Screens/About/AboutWay.cs
index 3f04f81..1ca6461 100644
--- a/RssClientByXamarin/Droid/Screens/About/AboutWay.cs
+++ b/RssClientByXamarin/Droid/Screens/About/AboutWay.cs
@@ -1,9 +1,10 @@
 ﻿using Droid.Screens.Navigation;
+using Shared.Infrastructure.Navigation;
 using Shared.ViewModels.About;
 
 namespace Droid.Screens.About
 {
-    public class AboutWay : AboutViewModel.Way
+    public class AboutWay : IWay<AboutViewModel>
     {
         private readonly FragmentActivity _fragmentActivity;
 
@@ -12,7 +13,7 @@ namespace Droid.Screens.About
             _fragmentActivity = fragmentActivity;
         }
 
-        public override void Go()
+        public void Go()
         {
             var fragment = new AboutFragment();
 
diff --git a/RssClientByXamarin/Droid/Screens/Base/ViewModelFragment.cs b/RssClientByXamarin/Droid/Screens/Base/ViewModelFragment.cs
index 095b93a..366b23d 100644
--- a/RssClientByXamarin/Droid/Screens/Base/ViewModelFragment.cs
+++ b/RssClientByXamarin/Droid/Screens/Base/ViewModelFragment.cs
@@ -9,6 +9,8 @@ namespace Droid.Screens.Base
     public class ViewModelFragment<TViewModel> : Fragment
         where TViewModel : ViewModel
     {
+        private ViewModelParameters _parameters;
+        
         public TViewModel ViewModel { get; private set; }
         
         public ViewModelFragment()
@@ -16,11 +18,16 @@ namespace Droid.Screens.Base
             
         }
 
+        public void SetParameters(ViewModelParameters parameters)
+        {
+            _parameters = parameters;
+        }
+
         public override void OnCreate(Bundle savedInstanceState)
         {
             base.OnCreate(savedInstanceState);
 
-            ViewModel = App.Container.Resolve<ViewModelProvider>().Resolve<TViewModel>();
+            ViewModel = App.Container.Resolve<ViewModelProvider>().Resolve<TViewModel>(_parameters);
         }
     }
 }
\ No newline at end of file
diff --git a/RssClientByXamarin/Droid/Screens/Close/CloseWay.cs b/RssClientByXamarin/Droid/Screens/Close/CloseWay.cs
index 654e266..b4c2bc8 100644
--- a/RssClientByXamarin/Droid/Screens/Close/CloseWay.cs
+++ b/RssClientByXamarin/Droid/Screens/Close/CloseWay.cs
@@ -1,9 +1,10 @@
 ﻿using Android.App;
+using Shared.Infrastructure.Navigation;
 using Shared.ViewModels.Close;
 
 namespace Droid.Screens.Close
 {
-    public class CloseWay : CloseViewModel.Way
+    public class CloseWay : IWay<CloseViewModel>
     {
         private readonly Activity _activity;
 
@@ -12,7 +13,7 @@ namespace Droid.Screens.Close
             _activity = activity;
         }
 
-        public override void Go()
+        public void Go()
         {
             _activity.OnBackPressed();
         }
diff --git a/RssClientByXamarin/Droid/Screens/Contacts/ContactsWay.cs b/RssClientByXamarin/Droid/Screens/Contacts/ContactsWay.cs
index 44e0bd6..951a914 100644
--- a/RssClientByXamarin/Droid/Screens/Contacts/ContactsWay.cs
+++ b/RssClientByXamarin/Droid/Screens/Contacts/ContactsWay.cs
@@ -1,9 +1,10 @@
 ﻿using Droid.Screens.Navigation;
+using Shared.Infrastructure.Navigation;
 using Shared.ViewModels.Contacts;
 
 namespace Droid.Screens.Contacts
 {
-    public class ContactsWay : ContactsViewModel.Way
+    public class ContactsWay : IWay<ContactsViewModel>
     {
         private readonly FragmentActivity _fragmentActivity;
 
@@ -12,7 +13,7 @@ namespace Droid.Screens.Contacts
             _fragmentActivity = fragmentActivity;
         }
 
-        public override void Go()
+        public void Go()
         {
             var fragment = new ContactsFragment();
 
diff --git a/RssClientByXamarin/Droid/Screens/FeedlySearch/FeedlySearchWay.cs b/RssClientByXamarin/Droid/Screens/FeedlySearch/FeedlySearchWay.cs
index f929638..cefa382 100644
--- a/RssClientByXamarin/Droid/Screens/FeedlySearch/FeedlySearchWay.cs
+++ b/RssClientByXamarin/Droid/Screens/FeedlySearch/FeedlySearchWay.cs
@@ -1,9 +1,10 @@
 using Droid.Screens.Navigation;
+using Shared.Infrastructure.Navigation;
 using Shared.ViewModels.FeedlySearch;
 
 namespace Droid.Screens.FeedlySearch
 {
-    public class FeedlySearchWay : FeedlySearchViewModel.Way
+    public class FeedlySearchWay : IWay<FeedlySearchViewModel>
     {
         private readonly FragmentActivity _activity;
 
@@ -12,7 +13,7 @@ namespace Droid.Screens.FeedlySearch
             _activity = activity;
         }
 
-        public override void Go()
+        public void Go()
         {
             _activity.AddFragment(new FeedlySearchFragment(), CacheState.Old);
         }
diff --git a/RssClientByXamarin/Droid/Screens/Main/MainActivity.cs b/RssClientByXamarin/Droid/Screens/Main/MainActivity.cs
index bf848cd..afdb416 100644
--- a/RssClientByXamarin/Droid/Screens/Main/MainActivity.cs
+++ b/RssClientByXamarin/Droid/Screens/Main/MainActivity.cs
@@ -51,9 +51,9 @@ namespace Droid.Screens.Main
                 var appConfiguration = _configurationRepository.GetSettings<AppConfiguration>();
 
                 if (appConfiguration.StartPage == StartPage.RssList)
-                    _navigator.Go(App.Container.Resolve<RssListViewModel.Way>());
+                    _navigator.Go(App.Container.Resolve<IWay<RssListViewModel>>());
                 else if (appConfiguration.StartPage == StartPage.AllMessages)
-                    _navigator.Go(App.Container.Resolve<RssAllMessagesViewModel.Way>());
+                    _navigator.Go(App.Container.Resolve<IWay<RssAllMessagesViewModel>>());
 
                 NavigationView.SetCheckedItem(Resource.Id.menuItem_navigationMenu_main);
             }
@@ -67,25 +67,25 @@ namespace Droid.Screens.Main
                 var appConfiguration = _configurationRepository.GetSettings<AppConfiguration>();
 
                 if (appConfiguration.StartPage == StartPage.RssList)
-                    _navigator.Go(App.Container.Resolve<RssListViewModel.Way>());
+                    _navigator.Go(App.Container.Resolve<IWay<RssListViewModel>>());
                 else if (appConfiguration.StartPage == StartPage.AllMessages)
-                    _navigator.Go(App.Container.Resolve<RssAllMessagesViewModel.Way>());
+                    _navigator.Go(App.Container.Resolve<IWay<RssAllMessagesViewModel>>());
             }
             else if (menuItem.ItemId == Resource.Id.menuItem_navigationMenu_feedlySearch)
             {
-                _navigator.Go(App.Container.Resolve<FeedlySearchViewModel.Way>());
+                _navigator.Go(App.Container.Resolve<IWay<FeedlySearchViewModel>>());
             }
             else if (menuItem.ItemId == Resource.Id.menuItem_navigationMenu_favorite)
             {
-                _navigator.Go(App.Container.Resolve<RssFavoriteMessagesViewModel.Way>());
+                _navigator.Go(App.Container.Resolve<IWay<RssFavoriteMessagesViewModel>>());
             }
             else if (menuItem.ItemId == Resource.Id.menuItem_navigationMenu_settings)
             {
-                _navigator.Go(App.Container.Resolve<SettingsViewModel.Way>());
+                _navigator.Go(App.Container.Resolve<IWay<SettingsViewModel>>());
             }
             else if (menuItem.ItemId == Resource.Id.menuItem_navigationMenu_contacts)
             {
-                _navigator.Go(App.Container.Resolve<ContactsViewModel.Way>());
+                _navigator.Go(App.Container.Resolve<IWay<ContactsViewModel>>());
             }
             else if (menuItem.ItemId == Resource.Id.menuItem_navigationMenu_rate)
             {
@@ -93,7 +93,7 @@ namespace Droid.Screens.Main
             }
             else if (menuItem.ItemId == Resource.Id.menuItem_navigationMenu_about)
             {
-                _navigator.Go(App.Container.Resolve<AboutViewModel.Way>());
+                _navigator.Go(App.Container.Resolve<IWay<AboutViewModel>>());
             }
 
             menuItem.SetChecked(true);
diff --git a/RssClientByXamarin/Droid/Screens/RssAllMessagesList/RssAllMessagesAdapter.cs b/RssClientByXamarin/Droid/Screens/RssAllMessages/RssAllMessagesAdapter.cs
similarity index 97%
rename from RssClientByXamarin/Droid/Screens/RssAllMessagesList/RssAllMessagesAdapter.cs
rename to RssClientByXamarin/Droid/Screens/RssAllMessages/RssAllMessagesAdapter.cs
index 13c7333..edc9782 100644
--- a/RssClientByXamarin/Droid/Screens/RssAllMessagesList/RssAllMessagesAdapter.cs
+++ b/RssClientByXamarin/Droid/Screens/RssAllMessages/RssAllMessagesAdapter.cs
@@ -7,7 +7,7 @@ using Droid.Screens.RssItemMessage;
 using Shared.Configuration.Settings;
 using Shared.Repository.RssMessage;
 
-namespace Droid.Screens.RssAllMessagesList
+namespace Droid.Screens.RssAllMessages
 {
     public class RssAllMessagesListAdapter : BaseRssMessageAdapter<RssAllMessagesViewHolder>
     {
diff --git a/RssClientByXamarin/Droid/Screens/RssAllMessagesList/RssAllMessagesListFragment.cs b/RssClientByXamarin/Droid/Screens/RssAllMessages/RssAllMessagesFragment.cs
similarity index 88%
rename from RssClientByXamarin/Droid/Screens/RssAllMessagesList/RssAllMessagesListFragment.cs
rename to RssClientByXamarin/Droid/Screens/RssAllMessages/RssAllMessagesFragment.cs
index 9ef13c7..be0b8a9 100644
--- a/RssClientByXamarin/Droid/Screens/RssAllMessagesList/RssAllMessagesListFragment.cs
+++ b/RssClientByXamarin/Droid/Screens/RssAllMessages/RssAllMessagesFragment.cs
@@ -18,9 +18,9 @@ using Shared.ViewModels.RssAllMessagesFilter;
 using Shared.ViewModels.RssCreate;
 using Shared.ViewModels.RssList;
 
-namespace Droid.Screens.RssAllMessagesList
+namespace Droid.Screens.RssAllMessages
 {
-    public class RssAllMessagesListFragment : BaseFragment<RssAllMessagesViewModel>
+    public class RssAllMessagesFragment : BaseFragment<RssAllMessagesViewModel>
     {
         [Inject] private INavigator _navigator;
 
@@ -33,7 +33,7 @@ namespace Droid.Screens.RssAllMessagesList
         protected override int LayoutId => Resource.Layout.fragment_all_messages_list;
         public override bool IsRoot => true;
 
-        public RssAllMessagesListFragment()
+        public RssAllMessagesFragment()
         {
 
         }
@@ -81,10 +81,10 @@ namespace Droid.Screens.RssAllMessagesList
             switch (item.ItemId)
             {
                 case Resource.Id.menuItem_rssAllMessageList_change:
-                    _navigator.Go(App.Container.Resolve<RssListViewModel.Way>());
+                    _navigator.Go(App.Container.Resolve<IWay<RssListViewModel>>());
                     break;
                 case Resource.Id.menuItem_rssAllMessageList_filter:
-                    _navigator.Go(App.Container.Resolve<RssAllMessagesFilterViewModel.Way>());
+                    _navigator.Go(App.Container.Resolve<IWay<RssAllMessagesFilterViewModel>>());
                     break;
             }
 
@@ -93,7 +93,7 @@ namespace Droid.Screens.RssAllMessagesList
 
         private void OnFabClick(object sender, EventArgs e)
         {
-            var createWay = App.Container.Resolve<RssCreateViewModel.Way>();
+            var createWay = App.Container.Resolve<IWay<RssCreateViewModel>>();
             _navigator.Go(createWay);
         }
     }
diff --git a/RssClientByXamarin/Droid/Screens/RssAllMessagesList/RssAllMessagesViewHolder.cs b/RssClientByXamarin/Droid/Screens/RssAllMessages/RssAllMessagesViewHolder.cs
similarity index 98%
rename from RssClientByXamarin/Droid/Screens/RssAllMessagesList/RssAllMessagesViewHolder.cs
rename to RssClientByXamarin/Droid/Screens/RssAllMessages/RssAllMessagesViewHolder.cs
index f4917ef..f577a60 100644
--- a/RssClientByXamarin/Droid/Screens/RssAllMessagesList/RssAllMessagesViewHolder.cs
+++ b/RssClientByXamarin/Droid/Screens/RssAllMessages/RssAllMessagesViewHolder.cs
@@ -8,7 +8,7 @@ using FFImageLoading.Views;
 using Shared.Infrastructure.Locale;
 using Shared.Repository.RssMessage;
 
-namespace Droid.Screens.RssAllMessagesList
+namespace Droid.Screens.RssAllMessages
 {
     public class RssAllMessagesViewHolder : BaseRssMessageViewHolder, IShowAndLoadImage
     {
diff --git a/RssClientByXamarin/Droid/Screens/RssAllMessages/RssAllMessagesWay.cs b/RssClientByXamarin/Droid/Screens/RssAllMessages/RssAllMessagesWay.cs
new file mode 100644
index 0000000..d6f475d
--- /dev/null
+++ b/RssClientByXamarin/Droid/Screens/RssAllMessages/RssAllMessagesWay.cs
@@ -0,0 +1,21 @@
+using Droid.Screens.Navigation;
+using Shared.Infrastructure.Navigation;
+using Shared.ViewModels.RssAllMessages;
+
+namespace Droid.Screens.RssAllMessages
+{
+    public class RssAllMessagesWay : IWay<RssAllMessagesViewModel>
+    {
+        private readonly FragmentActivity _activity;
+
+        public RssAllMessagesWay(FragmentActivity activity)
+        {
+            _activity = activity;
+        }
+
+        public void Go()
+        {
+            _activity.AddFragment(new RssAllMessagesFragment(), CacheState.Old);
+        }
+    }
+}
\ No newline at end of file
diff --git a/RssClientByXamarin/Droid/Screens/RssAllMessagesFilter/RssAllMessagesListWay.cs b/RssClientByXamarin/Droid/Screens/RssAllMessagesFilter/RssAllMessagesListWay.cs
index 8c0f1cd..cf26176 100644
--- a/RssClientByXamarin/Droid/Screens/RssAllMessagesFilter/RssAllMessagesListWay.cs
+++ b/RssClientByXamarin/Droid/Screens/RssAllMessagesFilter/RssAllMessagesListWay.cs
@@ -1,9 +1,10 @@
 using Droid.Screens.Navigation;
+using Shared.Infrastructure.Navigation;
 using Shared.ViewModels.RssAllMessagesFilter;
 
 namespace Droid.Screens.RssAllMessagesFilter
 {
-    public class RssAllMessagesFilterWay : RssAllMessagesFilterViewModel.Way
+    public class RssAllMessagesFilterWay : IWay<RssAllMessagesFilterViewModel>
     {
         private readonly FragmentActivity _activity;
 
@@ -12,7 +13,7 @@ namespace Droid.Screens.RssAllMessagesFilter
             _activity = activity;
         }
 
-        public override void Go()
+        public void Go()
         {
             _activity.AddFragment(new RssAllMessagesFilterFragment(), CacheState.Old);
         }
diff --git a/RssClientByXamarin/Droid/Screens/RssAllMessagesList/RssAllMessagesListWay.cs b/RssClientByXamarin/Droid/Screens/RssAllMessagesList/RssAllMessagesListWay.cs
deleted file mode 100644
index 82b73ca..0000000
--- a/RssClientByXamarin/Droid/Screens/RssAllMessagesList/RssAllMessagesListWay.cs
+++ /dev/null
@@ -1,20 +0,0 @@
-using Droid.Screens.Navigation;
-using Shared.ViewModels.RssAllMessages;
-
-namespace Droid.Screens.RssAllMessagesList
-{
-    public class RssAllMessagesListWay : RssAllMessagesViewModel.Way
-    {
-        private readonly FragmentActivity _activity;
-
-        public RssAllMessagesListWay(FragmentActivity activity)
-        {
-            _activity = activity;
-        }
-
-        public override void Go()
-        {
-            _activity.AddFragment(new RssAllMessagesListFragment(), CacheState.Old);
-        }
-    }
-}
\ No newline at end of file
diff --git a/RssClientByXamarin/Droid/Screens/RssCreate/RssCreateWay.cs b/RssClientByXamarin/Droid/Screens/RssCreate/RssCreateWay.cs
index eb349a9..aec1983 100644
--- a/RssClientByXamarin/Droid/Screens/RssCreate/RssCreateWay.cs
+++ b/RssClientByXamarin/Droid/Screens/RssCreate/RssCreateWay.cs
@@ -1,9 +1,10 @@
 using Droid.Screens.Navigation;
+using Shared.Infrastructure.Navigation;
 using Shared.ViewModels.RssCreate;
 
 namespace Droid.Screens.RssCreate
 {
-    public class RssCreateWay : RssCreateViewModel.Way
+    public class RssCreateWay : IWay<RssCreateViewModel>
     {
         private readonly FragmentActivity _fragmentActivity;
 
@@ -12,7 +13,7 @@ namespace Droid.Screens.RssCreate
             _fragmentActivity = fragmentActivity;
         }
 
-        public override void Go()
+        public void Go()
         {
             _fragmentActivity.AddFragment(new RssCreateFragment());
         }
diff --git a/RssClientByXamarin/Droid/Screens/RssEdit/RssEditWay.cs b/RssClientByXamarin/Droid/Screens/RssEdit/RssEditWay.cs
index 12c079a..57bfd9e 100644
--- a/RssClientByXamarin/Droid/Screens/RssEdit/RssEditWay.cs
+++ b/RssClientByXamarin/Droid/Screens/RssEdit/RssEditWay.cs
@@ -1,20 +1,27 @@
 using Droid.Screens.Navigation;
+using Shared.Infrastructure.Navigation;
 using Shared.ViewModels.RssEdit;
+using Shared.ViewModels.Settings;
 
 namespace Droid.Screens.RssEdit
 {
-    public class RssEditWay : RssEditViewModel.Way
+    public class RssEditWay : IWayWithParameters<RssEditViewModel, RssEditParameterses>
     {
         private readonly FragmentActivity _fragmentActivity;
+        private readonly RssEditParameterses _parameters;
 
-        public RssEditWay(FragmentActivity fragmentActivity)
+        public RssEditWay(FragmentActivity fragmentActivity, RssEditParameterses parameters)
         {
             _fragmentActivity = fragmentActivity;
+            _parameters = parameters;
         }
 
-        public override void Go()
+        public void Go()
         {
-            _fragmentActivity.AddFragment(new RssEditFragment(Data.RssId));
+            var fragment = new RssEditFragment(_parameters.RssId);
+            fragment.SetParameters(_parameters);
+            
+            _fragmentActivity.AddFragment(fragment);
         }
     }
 }
\ No newline at end of file
diff --git a/RssClientByXamarin/Droid/Screens/RssEditList/RssEditListFragment.cs b/RssClientByXamarin/Droid/Screens/RssEditList/RssEditListFragment.cs
index c8b2224..da986a9 100644
--- a/RssClientByXamarin/Droid/Screens/RssEditList/RssEditListFragment.cs
+++ b/RssClientByXamarin/Droid/Screens/RssEditList/RssEditListFragment.cs
@@ -49,7 +49,7 @@ namespace Droid.Screens.RssEditList
 
             var fab = view.FindViewById<FloatingActionButton>(Resource.Id.fab_rssEditList_addRss);
 
-            fab.Click += (sender, args) => { _navigator.Go(App.Container.Resolve<RssCreateViewModel.Way>()); };
+            fab.Click += (sender, args) => { _navigator.Go(App.Container.Resolve<IWay<RssCreateViewModel>>()); };
 
             var items = _rssRepository.GetList();
             var adapter = new RssListEditAdapter(items, Activity, _rssRepository);
diff --git a/RssClientByXamarin/Droid/Screens/RssEditList/RssListEditWay.cs b/RssClientByXamarin/Droid/Screens/RssEditList/RssListEditWay.cs
index f0bd586..4e0447a 100644
--- a/RssClientByXamarin/Droid/Screens/RssEditList/RssListEditWay.cs
+++ b/RssClientByXamarin/Droid/Screens/RssEditList/RssListEditWay.cs
@@ -1,9 +1,10 @@
 using Droid.Screens.Navigation;
+using Shared.Infrastructure.Navigation;
 using Shared.ViewModels.RssListEdit;
 
 namespace Droid.Screens.RssEditList
 {
-    public class RssListEditWay : RssListEditViewModel.Way
+    public class RssListEditWay : IWay<RssListEditViewModel>
     {
         private readonly FragmentActivity _activity;
 
@@ -12,7 +13,7 @@ namespace Droid.Screens.RssEditList
             _activity = activity;
         }
         
-        public override void Go()
+        public void Go()
         {
             _activity.AddFragment(new RssEditListFragment(), CacheState.Replace);
         }
diff --git a/RssClientByXamarin/Droid/Screens/RssFavoriteMessagesList/RssAllMessagesListWay.cs b/RssClientByXamarin/Droid/Screens/RssFavoriteMessagesList/RssAllMessagesListWay.cs
index 608bee8..d9e749f 100644
--- a/RssClientByXamarin/Droid/Screens/RssFavoriteMessagesList/RssAllMessagesListWay.cs
+++ b/RssClientByXamarin/Droid/Screens/RssFavoriteMessagesList/RssAllMessagesListWay.cs
@@ -1,9 +1,10 @@
 using Droid.Screens.Navigation;
+using Shared.Infrastructure.Navigation;
 using Shared.ViewModels.RssFavoriteMessages;
 
 namespace Droid.Screens.RssFavoriteMessagesList
 {
-    public class RssFavoriteMessagesListWay : RssFavoriteMessagesViewModel.Way
+    public class RssFavoriteMessagesListWay : IWay<RssFavoriteMessagesViewModel>
     {
         private readonly FragmentActivity _activity;
 
@@ -12,7 +13,7 @@ namespace Droid.Screens.RssFavoriteMessagesList
             _activity = activity;
         }
 
-        public override void Go()
+        public void Go()
         {
             _activity.AddFragment(new RssFavoriteMessagesListFragment(), CacheState.Old);
         }
diff --git a/RssClientByXamarin/Droid/Screens/RssFavoriteMessagesList/RssFavoriteMessagesListFragment.cs b/RssClientByXamarin/Droid/Screens/RssFavoriteMessagesList/RssFavoriteMessagesListFragment.cs
index a0fafdb..368f63a 100644
--- a/RssClientByXamarin/Droid/Screens/RssFavoriteMessagesList/RssFavoriteMessagesListFragment.cs
+++ b/RssClientByXamarin/Droid/Screens/RssFavoriteMessagesList/RssFavoriteMessagesListFragment.cs
@@ -6,7 +6,7 @@ using Droid.Container;
 using Droid.Repository.Configuration;
 using Droid.Screens.Base.SwipeButtonRecyclerView;
 using Droid.Screens.Navigation;
-using Droid.Screens.RssAllMessagesList;
+using Droid.Screens.RssAllMessages;
 using Shared.Configuration.Settings;
 using Shared.Infrastructure.Navigation;
 using Shared.Repository.RssMessage;
diff --git a/RssClientByXamarin/Droid/Screens/RssItemMessage/BaseRssMessageAdapter.cs b/RssClientByXamarin/Droid/Screens/RssItemMessage/BaseRssMessageAdapter.cs
index 8dedda6..32d5099 100644
--- a/RssClientByXamarin/Droid/Screens/RssItemMessage/BaseRssMessageAdapter.cs
+++ b/RssClientByXamarin/Droid/Screens/RssItemMessage/BaseRssMessageAdapter.cs
@@ -3,7 +3,9 @@ using Android.App;
 using Android.Support.V7.Widget;
 using Android.Views;
 using Autofac;
+using Autofac.Core;
 using Droid.Screens.Base.Adapters;
+using Mono.CodeGeneration;
 using Shared;
 using Shared.Infrastructure.Navigation;
 using Shared.Repository.RssMessage;
@@ -77,8 +79,9 @@ namespace Droid.Screens.RssItemMessage
             UpdateHimself(holder);
             
             var navigator = App.Container.Resolve<INavigator>();
-            var way = App.Container.Resolve<RssMessageViewModel.Way>();
-            way.Data = new RssMessageViewModel.Way.WayData(holder.Item);
+            var parameter = new RssMessageParameterses(holder.Item);
+            var typedParameter = new TypedParameter(parameter.GetType(), parameter);
+            var way = App.Container.Resolve<IWayWithParameters<RssMessageViewModel, RssMessageParameterses>>(typedParameter);
             navigator.Go(way);
         }
     }
diff --git a/RssClientByXamarin/Droid/Screens/RssItemMessage/RssItemDetailFragment.cs b/RssClientByXamarin/Droid/Screens/RssItemMessage/RssItemDetailFragment.cs
index dcac2cb..45c285a 100644
--- a/RssClientByXamarin/Droid/Screens/RssItemMessage/RssItemDetailFragment.cs
+++ b/RssClientByXamarin/Droid/Screens/RssItemMessage/RssItemDetailFragment.cs
@@ -134,8 +134,9 @@ namespace Droid.Screens.RssItemMessage
         private void EditItem()
         {
             var navigator = App.Container.Resolve<INavigator>();
-            var editWay = App.Container.Resolve<RssEditViewModel.Way>();
-            editWay.Data = new RssEditViewModel.Way.WayData(_itemId);
+            var parameter = new RssEditParameterses(_itemId);
+            var typedParameter = new TypedParameter(parameter.GetType(), parameter);
+            var editWay = App.Container.Resolve<IWayWithParameters<RssEditViewModel, RssEditParameterses>>(typedParameter);
             navigator.Go(editWay);
         }
 
diff --git a/RssClientByXamarin/Droid/Screens/RssItemMessage/RssItemDetailWay.cs b/RssClientByXamarin/Droid/Screens/RssItemMessage/RssItemDetailWay.cs
index 075f923..88bbe3c 100644
--- a/RssClientByXamarin/Droid/Screens/RssItemMessage/RssItemDetailWay.cs
+++ b/RssClientByXamarin/Droid/Screens/RssItemMessage/RssItemDetailWay.cs
@@ -1,21 +1,25 @@
 ﻿using Droid.Screens.Navigation;
+using Shared.Infrastructure.Navigation;
 using Shared.ViewModels.RssItemDetail;
 
 namespace Droid.Screens.RssItemMessage
 {
-    public class RssItemDetailWay : RssItemDetailViewModel.Way
+    public class RssItemDetailWay : IWayWithParameters<RssItemDetailViewModel, RssItemDetailParameterses>
     {
         private readonly FragmentActivity _fragmentActivity;
+        private readonly RssItemDetailParameterses _parameters;
 
-        public RssItemDetailWay(FragmentActivity fragmentActivity)
+        public RssItemDetailWay(FragmentActivity fragmentActivity, RssItemDetailParameterses parameters)
         {
             _fragmentActivity = fragmentActivity;
+            _parameters = parameters;
         }
 
-        public override void Go()
+        public void Go()
         {
-            var fragment = new RssItemDetailFragment(Data.RssModel.Id);
-
+            var fragment = new RssItemDetailFragment(_parameters.RssModel.Id);
+            fragment.SetParameters(_parameters);
+            
             _fragmentActivity.AddFragment(fragment, CacheState.Replace);
         }
     }
diff --git a/RssClientByXamarin/Droid/Screens/RssList/RssListAdapter.cs b/RssClientByXamarin/Droid/Screens/RssList/RssListAdapter.cs
index 08bb1b5..f5fc74c 100644
--- a/RssClientByXamarin/Droid/Screens/RssList/RssListAdapter.cs
+++ b/RssClientByXamarin/Droid/Screens/RssList/RssListAdapter.cs
@@ -101,8 +101,9 @@ namespace Droid.Screens.RssList
         private void EditItem(RssData holderItem)
         {
             var navigator = App.Container.Resolve<INavigator>();
-            var editWay = App.Container.Resolve<RssEditViewModel.Way>();
-            editWay.Data = new RssEditViewModel.Way.WayData(holderItem.Id);
+            var parameter = new RssEditParameterses(holderItem.Id);
+            var typedParameter = new TypedParameter(parameter.GetType(), parameter);
+            var editWay = App.Container.Resolve<IWayWithParameters<RssEditViewModel, RssEditParameterses>>(typedParameter);
             navigator.Go(editWay);
         }
 
@@ -119,8 +120,9 @@ namespace Droid.Screens.RssList
 
         private void OpenDetailActivity(RssData holderItem)
         {
-            var way = App.Container.Resolve<RssItemDetailViewModel.Way>();
-            way.Data = new RssItemDetailViewModel.Way.WayData(holderItem);
+            var parameter = new RssItemDetailParameterses(holderItem);
+            var typedParameter = new TypedParameter(parameter.GetType(), parameter);            
+            var way = App.Container.Resolve<IWayWithParameters<RssItemDetailViewModel, RssItemDetailParameterses>>(typedParameter);
             _navigator.Go(way);
         }
     }
diff --git a/RssClientByXamarin/Droid/Screens/RssList/RssListFragment.cs b/RssClientByXamarin/Droid/Screens/RssList/RssListFragment.cs
index e186d6c..63e4616 100644
--- a/RssClientByXamarin/Droid/Screens/RssList/RssListFragment.cs
+++ b/RssClientByXamarin/Droid/Screens/RssList/RssListFragment.cs
@@ -80,11 +80,11 @@ namespace Droid.Screens.RssList
             switch (item.ItemId)
             {
                 case Resource.Id.menuItem_rssList_change:
-                    _navigator.Go(App.Container.Resolve<RssAllMessagesViewModel.Way>());
+                    _navigator.Go(App.Container.Resolve<IWay<RssAllMessagesViewModel>>());
                     break;
                 
                 case Resource.Id.menuItem_rssList_editMode:
-                    _navigator.Go(App.Container.Resolve<RssListEditViewModel.Way>());
+                    _navigator.Go(App.Container.Resolve<IWay<RssListEditViewModel>>());
                     break;
             }
 
@@ -93,7 +93,7 @@ namespace Droid.Screens.RssList
 
         private void FabOnClick(object sender, EventArgs eventArgs)
         {
-            var createWay = App.Container.Resolve<RssCreateViewModel.Way>();
+            var createWay = App.Container.Resolve<IWay<RssCreateViewModel>>();
             _navigator.Go(createWay);
         }
     }
diff --git a/RssClientByXamarin/Droid/Screens/RssList/RssListWay.cs b/RssClientByXamarin/Droid/Screens/RssList/RssListWay.cs
index 277ea87..e53e7ff 100644
--- a/RssClientByXamarin/Droid/Screens/RssList/RssListWay.cs
+++ b/RssClientByXamarin/Droid/Screens/RssList/RssListWay.cs
@@ -1,9 +1,10 @@
 using Droid.Screens.Navigation;
+using Shared.Infrastructure.Navigation;
 using Shared.ViewModels.RssList;
 
 namespace Droid.Screens.RssList
 {
-    public class RssListWay : RssListViewModel.Way
+    public class RssListWay : IWay<RssListViewModel>
     {
         private readonly FragmentActivity _fragmentActivity;
 
@@ -12,7 +13,7 @@ namespace Droid.Screens.RssList
             _fragmentActivity = fragmentActivity;
         }
 
-        public override void Go()
+        public void Go()
         {
             _fragmentActivity.AddFragment(new RssListFragment(), CacheState.Old);
         }
diff --git a/RssClientByXamarin/Droid/Screens/RssMessage/RssMessageWay.cs b/RssClientByXamarin/Droid/Screens/RssMessage/RssMessageWay.cs
index 3893f23..b4fe295 100644
--- a/RssClientByXamarin/Droid/Screens/RssMessage/RssMessageWay.cs
+++ b/RssClientByXamarin/Droid/Screens/RssMessage/RssMessageWay.cs
@@ -2,33 +2,40 @@ using System;
 using Droid.Repository.Configuration;
 using Droid.Screens.Navigation;
 using Shared.Configuration.Settings;
+using Shared.Infrastructure.Navigation;
 using Shared.ViewModels.RssMessage;
 using Xamarin.Essentials;
 
 namespace Droid.Screens.RssMessage
 {
-    public class RssMessageWay : RssMessageViewModel.Way
+    public class RssMessageWay : IWayWithParameters<RssMessageViewModel, RssMessageParameterses>
     {
         private readonly FragmentActivity _activity;
         private readonly IConfigurationRepository _configurationRepository;
+        private readonly RssMessageParameterses _parameters;
 
-        public RssMessageWay(FragmentActivity activity, IConfigurationRepository configurationRepository)
+        public RssMessageWay(FragmentActivity activity, IConfigurationRepository configurationRepository,
+            RssMessageParameterses parameters)
         {
             _activity = activity;
             _configurationRepository = configurationRepository;
+            _parameters = parameters;
         }
 
-        public override void Go()
+        public void Go()
         {
             var appConfiguration = _configurationRepository.GetSettings<AppConfiguration>();
-            
+
             switch (appConfiguration.MessagesViewer)
             {
                 case MessagesViewer.Browser:
-                    Browser.OpenAsync(Data.RssMessageModel.Url);
+                    Browser.OpenAsync(_parameters.RssMessageModel.Url);
                     break;
                 case MessagesViewer.App:
-                    _activity.AddFragment(new RssMessageFragment(Data.RssMessageModel.Id));
+                    var fragment = new RssMessageFragment(_parameters.RssMessageModel.Id);
+                    fragment.SetParameters(_parameters);
+                    
+                    _activity.AddFragment(fragment);
                     break;
                 default:
                     throw new ArgumentOutOfRangeException();
diff --git a/RssClientByXamarin/Droid/Screens/Settings/SettingsWay.cs b/RssClientByXamarin/Droid/Screens/Settings/SettingsWay.cs
index 435003b..6a1a7dc 100644
--- a/RssClientByXamarin/Droid/Screens/Settings/SettingsWay.cs
+++ b/RssClientByXamarin/Droid/Screens/Settings/SettingsWay.cs
@@ -1,9 +1,10 @@
 ﻿using Droid.Screens.Navigation;
+using Shared.Infrastructure.Navigation;
 using Shared.ViewModels.Settings;
 
 namespace Droid.Screens.Settings
 {
-    public class SettingsWay : SettingsViewModel.Way
+    public class SettingsWay : IWay<SettingsViewModel>
     {
         private readonly FragmentActivity _fragmentActivity;
 
@@ -12,7 +13,7 @@ namespace Droid.Screens.Settings
             _fragmentActivity = fragmentActivity;
         }
 
-        public override void Go()
+        public void Go()
         {
             var fragment = new SettingsFragment();
 
diff --git a/RssClientByXamarin/Shared/Container/Modules/ViewModelModule.cs b/RssClientByXamarin/Shared/Container/Modules/ViewModelModule.cs
index cf48b1d..0d59805 100644
--- a/RssClientByXamarin/Shared/Container/Modules/ViewModelModule.cs
+++ b/RssClientByXamarin/Shared/Container/Modules/ViewModelModule.cs
@@ -26,9 +26,7 @@ namespace Shared.Container.Modules
             base.Load(builder);
 
             builder.RegisterType<ViewModelProvider>().AsSelf().SingleInstance();
-//TODO нужно еще подфрагментики сделать
-            builder.RegisterType<ViewModel>().AsSelf().InstancePerRequest();
-            // TODO они сейчас возможно синглтоны
+            
             builder.RegisterType<AboutViewModel>().AsSelf();
             builder.RegisterType<CloseViewModel>().AsSelf();
             builder.RegisterType<ContactsViewModel>().AsSelf();
diff --git a/RssClientByXamarin/Shared/Infrastructure/Navigation/IWay.cs b/RssClientByXamarin/Shared/Infrastructure/Navigation/IWay.cs
index 0a1ce63..6c9e7d1 100644
--- a/RssClientByXamarin/Shared/Infrastructure/Navigation/IWay.cs
+++ b/RssClientByXamarin/Shared/Infrastructure/Navigation/IWay.cs
@@ -2,6 +2,13 @@
 
 namespace Shared.Infrastructure.Navigation
 {
+    public interface IWayWithParameters<TViewModel, TParameter> : IWay<TViewModel>
+        where TViewModel : ViewModelWithParameter<TParameter>
+        where TParameter : ViewModelParameters
+    {
+
+    }
+
     public interface IWay<TViewModel> : IWay
         where TViewModel : ViewModel
     {
diff --git a/RssClientByXamarin/Shared/Infrastructure/Navigation/Navigator.cs b/RssClientByXamarin/Shared/Infrastructure/Navigation/Navigator.cs
index 7ef6d02..f9b0ddd 100644
--- a/RssClientByXamarin/Shared/Infrastructure/Navigation/Navigator.cs
+++ b/RssClientByXamarin/Shared/Infrastructure/Navigation/Navigator.cs
@@ -12,7 +12,7 @@ namespace Shared.Infrastructure.Navigation
 
         public void GoBack()
         {
-            var goBackWay = App.Container.Resolve<CloseViewModel.Way>();
+            var goBackWay = App.Container.Resolve<IWay<CloseViewModel>>();
             goBackWay.Go();
         }
     }
diff --git a/RssClientByXamarin/Shared/Infrastructure/ViewModels/ViewModelParameters.cs b/RssClientByXamarin/Shared/Infrastructure/ViewModels/ViewModelParameters.cs
new file mode 100644
index 0000000..e832847
--- /dev/null
+++ b/RssClientByXamarin/Shared/Infrastructure/ViewModels/ViewModelParameters.cs
@@ -0,0 +1,7 @@
+namespace Shared.Infrastructure.ViewModels
+{
+    public class ViewModelParameters
+    {
+        
+    }
+}
\ No newline at end of file
diff --git a/RssClientByXamarin/Shared/Infrastructure/ViewModels/ViewModelProvider.cs b/RssClientByXamarin/Shared/Infrastructure/ViewModels/ViewModelProvider.cs
index 4b69a4a..56b8cd2 100644
--- a/RssClientByXamarin/Shared/Infrastructure/ViewModels/ViewModelProvider.cs
+++ b/RssClientByXamarin/Shared/Infrastructure/ViewModels/ViewModelProvider.cs
@@ -9,8 +9,14 @@ namespace Shared.Infrastructure.ViewModels
             
         }
 
-        public TViewModel Resolve<TViewModel>()
+        public TViewModel Resolve<TViewModel>(ViewModelParameters parameters)
         {
+            if (parameters != null)
+            {
+                var typedParameter = new TypedParameter(parameters.GetType(), parameters);
+                return App.Container.Resolve<TViewModel>(typedParameter);
+            }
+            
             return App.Container.Resolve<TViewModel>();
         }
     }
diff --git a/RssClientByXamarin/Shared/Infrastructure/ViewModels/ViewModelWithParameter.cs b/RssClientByXamarin/Shared/Infrastructure/ViewModels/ViewModelWithParameter.cs
new file mode 100644
index 0000000..61f224c
--- /dev/null
+++ b/RssClientByXamarin/Shared/Infrastructure/ViewModels/ViewModelWithParameter.cs
@@ -0,0 +1,13 @@
+namespace Shared.Infrastructure.ViewModels
+{
+    public class ViewModelWithParameter<TParameter> : ViewModel
+    where TParameter : ViewModelParameters
+    {
+        public TParameter Parameterse { get; }
+        
+        public ViewModelWithParameter(TParameter parameterse)
+        {
+            Parameterse = parameterse;
+        }
+    }
+}
\ No newline at end of file
diff --git a/RssClientByXamarin/Shared/Shared.projitems b/RssClientByXamarin/Shared/Shared.projitems
index 0920388..2502393 100644
--- a/RssClientByXamarin/Shared/Shared.projitems
+++ b/RssClientByXamarin/Shared/Shared.projitems
@@ -43,7 +43,9 @@
     <Compile Include="$(MSBuildThisFileDirectory)Database\Rss\RssModel.cs" />
     <Compile Include="$(MSBuildThisFileDirectory)Database\SettingsModel.cs" />
     <Compile Include="$(MSBuildThisFileDirectory)Infrastructure\ViewModels\ViewModel.cs" />
+    <Compile Include="$(MSBuildThisFileDirectory)Infrastructure\ViewModels\ViewModelParameters.cs" />
     <Compile Include="$(MSBuildThisFileDirectory)Infrastructure\ViewModels\ViewModelProvider.cs" />
+    <Compile Include="$(MSBuildThisFileDirectory)Infrastructure\ViewModels\ViewModelWithParameter.cs" />
     <Compile Include="$(MSBuildThisFileDirectory)Repository\Configuration\ConfigurationRepository.cs" />
     <Compile Include="$(MSBuildThisFileDirectory)Repository\Configuration\IConfigurationRepository.cs" />
     <Compile Include="$(MSBuildThisFileDirectory)Repository\IMapper.cs" />
@@ -73,11 +75,14 @@
     <Compile Include="$(MSBuildThisFileDirectory)ViewModels\RssAllMessagesFilter\RssAllMessagesOrderFilterViewModel.cs" />
     <Compile Include="$(MSBuildThisFileDirectory)ViewModels\RssAllMessages\RssAllMessagesViewModel.cs" />
     <Compile Include="$(MSBuildThisFileDirectory)ViewModels\RssCreate\RssCreateViewModel.cs" />
+    <Compile Include="$(MSBuildThisFileDirectory)ViewModels\RssEdit\RssEditParameterses.cs" />
     <Compile Include="$(MSBuildThisFileDirectory)ViewModels\RssEdit\RssEditViewModel.cs" />
     <Compile Include="$(MSBuildThisFileDirectory)ViewModels\RssFavoriteMessages\RssFavoriteMessagesViewModel.cs" />
+    <Compile Include="$(MSBuildThisFileDirectory)ViewModels\RssItemDetail\RssItemDetailParameterses.cs" />
     <Compile Include="$(MSBuildThisFileDirectory)ViewModels\RssItemDetail\RssItemDetailViewModel.cs" />
     <Compile Include="$(MSBuildThisFileDirectory)ViewModels\RssListEdit\RssListEditViewModel.cs" />
     <Compile Include="$(MSBuildThisFileDirectory)ViewModels\RssList\RssListViewModel.cs" />
+    <Compile Include="$(MSBuildThisFileDirectory)ViewModels\RssMessage\RssMessageParameterses.cs" />
     <Compile Include="$(MSBuildThisFileDirectory)ViewModels\RssMessage\RssMessageViewModel.cs" />
     <Compile Include="$(MSBuildThisFileDirectory)ViewModels\Settings\SettingsLoadImagesViewModel.cs" />
     <Compile Include="$(MSBuildThisFileDirectory)ViewModels\Settings\SettingsReadMessagesViewModel.cs" />
diff --git a/RssClientByXamarin/Shared/ViewModels/About/AboutViewModel.cs b/RssClientByXamarin/Shared/ViewModels/About/AboutViewModel.cs
index af5fbaf..2d81f1f 100644
--- a/RssClientByXamarin/Shared/ViewModels/About/AboutViewModel.cs
+++ b/RssClientByXamarin/Shared/ViewModels/About/AboutViewModel.cs
@@ -5,12 +5,5 @@ namespace Shared.ViewModels.About
 {
     public class AboutViewModel : ViewModel
     {
-        public abstract class Way : DataWay<AboutViewModel, Way.WayData>
-        {
-            public class WayData
-            {
-            
-            }
-        }
     }
 }
\ No newline at end of file
diff --git a/RssClientByXamarin/Shared/ViewModels/Close/CloseViewModel.cs b/RssClientByXamarin/Shared/ViewModels/Close/CloseViewModel.cs
index 4bc6394..ba81e50 100644
--- a/RssClientByXamarin/Shared/ViewModels/Close/CloseViewModel.cs
+++ b/RssClientByXamarin/Shared/ViewModels/Close/CloseViewModel.cs
@@ -5,12 +5,5 @@ namespace Shared.ViewModels.Close
 {
     public class CloseViewModel : ViewModel
     {
-        public abstract class Way : DataWay<CloseViewModel, Way.WayData>
-        {
-            public class WayData
-            {
-                
-            }
-        }
     }
 }
diff --git a/RssClientByXamarin/Shared/ViewModels/Contacts/ContactsViewModel.cs b/RssClientByXamarin/Shared/ViewModels/Contacts/ContactsViewModel.cs
index fd7cb51..9f970c6 100644
--- a/RssClientByXamarin/Shared/ViewModels/Contacts/ContactsViewModel.cs
+++ b/RssClientByXamarin/Shared/ViewModels/Contacts/ContactsViewModel.cs
@@ -5,12 +5,5 @@ namespace Shared.ViewModels.Contacts
 {
     public class ContactsViewModel : ViewModel
     {
-        public abstract class Way : DataWay<ContactsViewModel, Way.WayData>
-        {
-            public class WayData
-            {
-            
-            }
-        }
     }
 }
\ No newline at end of file
diff --git a/RssClientByXamarin/Shared/ViewModels/FeedlySearch/FeedlySearchViewModel.cs b/RssClientByXamarin/Shared/ViewModels/FeedlySearch/FeedlySearchViewModel.cs
index d4bac1a..4511324 100644
--- a/RssClientByXamarin/Shared/ViewModels/FeedlySearch/FeedlySearchViewModel.cs
+++ b/RssClientByXamarin/Shared/ViewModels/FeedlySearch/FeedlySearchViewModel.cs
@@ -5,12 +5,5 @@ namespace Shared.ViewModels.FeedlySearch
 {
     public class FeedlySearchViewModel : ViewModel
     {
-        public abstract class Way : DataWay<FeedlySearchViewModel, Way.WayData>
-        {
-            public class WayData
-            {
-
-            }
-        }
     }
 }
\ No newline at end of file
diff --git a/RssClientByXamarin/Shared/ViewModels/RssAllMessages/RssAllMessagesViewModel.cs b/RssClientByXamarin/Shared/ViewModels/RssAllMessages/RssAllMessagesViewModel.cs
index 5dc5c86..f563978 100644
--- a/RssClientByXamarin/Shared/ViewModels/RssAllMessages/RssAllMessagesViewModel.cs
+++ b/RssClientByXamarin/Shared/ViewModels/RssAllMessages/RssAllMessagesViewModel.cs
@@ -5,12 +5,6 @@ namespace Shared.ViewModels.RssAllMessages
 {
     public class RssAllMessagesViewModel : ViewModel
     {
-        public abstract class Way : DataWay<RssAllMessagesViewModel, Way.WayData>
-        {
-            public class WayData
-            {
-            
-            }
-        }
+
     }
 }
\ No newline at end of file
diff --git a/RssClientByXamarin/Shared/ViewModels/RssAllMessagesFilter/RssAllMessagesFilterViewModel.cs b/RssClientByXamarin/Shared/ViewModels/RssAllMessagesFilter/RssAllMessagesFilterViewModel.cs
index 5af9f97..33a9e20 100644
--- a/RssClientByXamarin/Shared/ViewModels/RssAllMessagesFilter/RssAllMessagesFilterViewModel.cs
+++ b/RssClientByXamarin/Shared/ViewModels/RssAllMessagesFilter/RssAllMessagesFilterViewModel.cs
@@ -5,12 +5,6 @@ namespace Shared.ViewModels.RssAllMessagesFilter
 {
     public class RssAllMessagesFilterViewModel : ViewModel
     {
-        public abstract class Way : DataWay<RssAllMessagesFilterViewModel, Way.WayData>
-        {
-            public class WayData
-            {
-            
-            }
-        }
+
     }
 }
\ No newline at end of file
diff --git a/RssClientByXamarin/Shared/ViewModels/RssCreate/RssCreateViewModel.cs b/RssClientByXamarin/Shared/ViewModels/RssCreate/RssCreateViewModel.cs
index aaa6630..d4e7f9b 100644
--- a/RssClientByXamarin/Shared/ViewModels/RssCreate/RssCreateViewModel.cs
+++ b/RssClientByXamarin/Shared/ViewModels/RssCreate/RssCreateViewModel.cs
@@ -5,11 +5,6 @@ namespace Shared.ViewModels.RssCreate
 {
     public class RssCreateViewModel : ViewModel
     {
-        public abstract class Way : DataWay<RssCreateViewModel, Way.WayData>
-        {
-            public class WayData
-            {
-            }
-        }
+  
     }
 }
\ No newline at end of file
diff --git a/RssClientByXamarin/Shared/ViewModels/RssEdit/RssEditParameterses.cs b/RssClientByXamarin/Shared/ViewModels/RssEdit/RssEditParameterses.cs
new file mode 100644
index 0000000..04de5fc
--- /dev/null
+++ b/RssClientByXamarin/Shared/ViewModels/RssEdit/RssEditParameterses.cs
@@ -0,0 +1,14 @@
+using Shared.Infrastructure.ViewModels;
+
+namespace Shared.ViewModels.RssEdit
+{
+    public class RssEditParameterses : ViewModelParameters
+    {
+        public string RssId { get; }
+
+        public RssEditParameterses(string rssId)
+        {
+            RssId = rssId;
+        }
+    }
+}
\ No newline at end of file
diff --git a/RssClientByXamarin/Shared/ViewModels/RssEdit/RssEditViewModel.cs b/RssClientByXamarin/Shared/ViewModels/RssEdit/RssEditViewModel.cs
index 7953f57..e43129b 100644
--- a/RssClientByXamarin/Shared/ViewModels/RssEdit/RssEditViewModel.cs
+++ b/RssClientByXamarin/Shared/ViewModels/RssEdit/RssEditViewModel.cs
@@ -3,19 +3,10 @@ using Shared.Infrastructure.ViewModels;
 
 namespace Shared.ViewModels.RssEdit
 {
-    public class RssEditViewModel : ViewModel
+    public class RssEditViewModel : ViewModelWithParameter<RssEditParameterses>
     {
-        public abstract class Way : DataWay<RssEditViewModel, Way.WayData>
+        public RssEditViewModel(RssEditParameterses parameterse) : base(parameterse)
         {
-            public class WayData
-            {
-                public string RssId { get; }
-
-                public WayData(string rssId)
-                {
-                    RssId = rssId;
-                }
-            }
         }
     }
 }
\ No newline at end of file
diff --git a/RssClientByXamarin/Shared/ViewModels/RssFavoriteMessages/RssFavoriteMessagesViewModel.cs b/RssClientByXamarin/Shared/ViewModels/RssFavoriteMessages/RssFavoriteMessagesViewModel.cs
index 51f95d5..cbbb422 100644
--- a/RssClientByXamarin/Shared/ViewModels/RssFavoriteMessages/RssFavoriteMessagesViewModel.cs
+++ b/RssClientByXamarin/Shared/ViewModels/RssFavoriteMessages/RssFavoriteMessagesViewModel.cs
@@ -5,12 +5,5 @@ namespace Shared.ViewModels.RssFavoriteMessages
 {
     public class RssFavoriteMessagesViewModel : ViewModel
     {
-        public abstract class Way : DataWay<RssFavoriteMessagesViewModel, Way.WayData>
-        {
-            public class WayData
-            {
-            
-            }
-        }
     }
 }
\ No newline at end of file
diff --git a/RssClientByXamarin/Shared/ViewModels/RssItemDetail/RssItemDetailParameterses.cs b/RssClientByXamarin/Shared/ViewModels/RssItemDetail/RssItemDetailParameterses.cs
new file mode 100644
index 0000000..8d1fbb4
--- /dev/null
+++ b/RssClientByXamarin/Shared/ViewModels/RssItemDetail/RssItemDetailParameterses.cs
@@ -0,0 +1,15 @@
+using Shared.Infrastructure.ViewModels;
+using Shared.Repository.Rss;
+
+namespace Shared.ViewModels.RssItemDetail
+{
+    public class RssItemDetailParameterses : ViewModelParameters
+    {
+        public RssData RssModel { get; }
+
+        public RssItemDetailParameterses(RssData rssModel)
+        {
+            RssModel = rssModel;
+        }
+    }
+}
\ No newline at end of file
diff --git a/RssClientByXamarin/Shared/ViewModels/RssItemDetail/RssItemDetailViewModel.cs b/RssClientByXamarin/Shared/ViewModels/RssItemDetail/RssItemDetailViewModel.cs
index fa86e33..e9d0594 100644
--- a/RssClientByXamarin/Shared/ViewModels/RssItemDetail/RssItemDetailViewModel.cs
+++ b/RssClientByXamarin/Shared/ViewModels/RssItemDetail/RssItemDetailViewModel.cs
@@ -1,22 +1,12 @@
 ﻿using Shared.Infrastructure.Navigation;
 using Shared.Infrastructure.ViewModels;
-using Shared.Repository.Rss;
 
 namespace Shared.ViewModels.RssItemDetail
 {
-    public class RssItemDetailViewModel : ViewModel
+    public class RssItemDetailViewModel : ViewModelWithParameter<RssItemDetailParameterses>
     {
-        public abstract class Way : DataWay<RssItemDetailViewModel, Way.WayData>
+        public RssItemDetailViewModel(RssItemDetailParameterses parameterse) : base(parameterse)
         {
-            public class WayData
-            {
-                public RssData RssModel { get; }
-
-                public WayData(RssData rssModel)
-                {
-                    RssModel = rssModel;
-                }
-            }
         }
     }
 }
diff --git a/RssClientByXamarin/Shared/ViewModels/RssList/RssListViewModel.cs b/RssClientByXamarin/Shared/ViewModels/RssList/RssListViewModel.cs
index e91d6b7..393fa8d 100644
--- a/RssClientByXamarin/Shared/ViewModels/RssList/RssListViewModel.cs
+++ b/RssClientByXamarin/Shared/ViewModels/RssList/RssListViewModel.cs
@@ -5,12 +5,5 @@ namespace Shared.ViewModels.RssList
 {
     public class RssListViewModel : ViewModel
     {
-        public abstract class Way : DataWay<RssListViewModel, Way.WayData>
-        {
-            public class WayData
-            {
-            
-            }
-        }
     }
 }
\ No newline at end of file
diff --git a/RssClientByXamarin/Shared/ViewModels/RssListEdit/RssListEditViewModel.cs b/RssClientByXamarin/Shared/ViewModels/RssListEdit/RssListEditViewModel.cs
index 58c4826..1e99f6d 100644
--- a/RssClientByXamarin/Shared/ViewModels/RssListEdit/RssListEditViewModel.cs
+++ b/RssClientByXamarin/Shared/ViewModels/RssListEdit/RssListEditViewModel.cs
@@ -5,11 +5,6 @@ namespace Shared.ViewModels.RssListEdit
 {
     public class RssListEditViewModel : ViewModel
     {
-        public abstract class Way : DataWay<RssListEditViewModel, Way.WayData>
-        {
-            public class WayData
-            {
-            }
-        }
+
     }
 }
\ No newline at end of file
diff --git a/RssClientByXamarin/Shared/ViewModels/RssMessage/RssMessageParameterses.cs b/RssClientByXamarin/Shared/ViewModels/RssMessage/RssMessageParameterses.cs
new file mode 100644
index 0000000..5dbaa53
--- /dev/null
+++ b/RssClientByXamarin/Shared/ViewModels/RssMessage/RssMessageParameterses.cs
@@ -0,0 +1,15 @@
+using Shared.Infrastructure.ViewModels;
+using Shared.Repository.RssMessage;
+
+namespace Shared.ViewModels.RssMessage
+{
+    public class RssMessageParameterses : ViewModelParameters
+    {
+        public RssMessageData RssMessageModel { get; }
+
+        public RssMessageParameterses(RssMessageData rssMessageModel)
+        {
+            RssMessageModel = rssMessageModel;
+        }
+    }
+}
\ No newline at end of file
diff --git a/RssClientByXamarin/Shared/ViewModels/RssMessage/RssMessageViewModel.cs b/RssClientByXamarin/Shared/ViewModels/RssMessage/RssMessageViewModel.cs
index 784c9b7..63c6794 100644
--- a/RssClientByXamarin/Shared/ViewModels/RssMessage/RssMessageViewModel.cs
+++ b/RssClientByXamarin/Shared/ViewModels/RssMessage/RssMessageViewModel.cs
@@ -1,23 +1,13 @@
 using Shared.Infrastructure.Navigation;
 using Shared.Infrastructure.ViewModels;
-using Shared.Repository.RssMessage;
 using Shared.ViewModels.RssAllMessages;
 
 namespace Shared.ViewModels.RssMessage
 {
-    public class RssMessageViewModel : ViewModel
+    public class RssMessageViewModel : ViewModelWithParameter<RssMessageParameterses>
     {
-        public abstract class Way : DataWay<RssAllMessagesViewModel, Way.WayData>
+        public RssMessageViewModel(RssMessageParameterses parameterse) : base(parameterse)
         {
-            public class WayData
-            {
-                public RssMessageData RssMessageModel { get; }
-
-                public WayData(RssMessageData rssMessageModel)
-                {
-                    RssMessageModel = rssMessageModel;
-                }
-            }
         }
     }
 }
\ No newline at end of file
diff --git a/RssClientByXamarin/Shared/ViewModels/Settings/SettingsViewModel.cs b/RssClientByXamarin/Shared/ViewModels/Settings/SettingsViewModel.cs
index 93d098f..52cfea3 100644
--- a/RssClientByXamarin/Shared/ViewModels/Settings/SettingsViewModel.cs
+++ b/RssClientByXamarin/Shared/ViewModels/Settings/SettingsViewModel.cs
@@ -5,12 +5,6 @@ namespace Shared.ViewModels.Settings
 {
     public class SettingsViewModel : ViewModel
     {
-        public abstract class Way : DataWay<SettingsViewModel, Way.WayData>
-        {
-            public class WayData
-            {
-            
-            }
-        }
+
     }
 }
\ No newline at end of file
-- 
2.20.1

